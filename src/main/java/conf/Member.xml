<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper 
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Member">
	<resultMap id="MemberResult" type="Member">
		<id property="mid" column="mid"/>
		<result property="mname" column="mname"/>
		<result property="malias" column="malias"/>
		<result property="mpass" column="mpass"/>
		<result property="memail" column="memail"/>
		<result property="mcp" column="mcp"/>
		<result property="mdelyn" column="mdelyn"/>
	</resultMap>
	
	<insert id="insertMember" parameterType="Member">
   	 	INSERT INTO MEMBER (MID, MNAME, MALIAS, MPASS, MEMAIL, MCP, MDELYN)
    	VALUES (#{mid}, #{mname}, #{malias}, #{mpass}, #{memail}, #{mcp}, 'N')
	</insert>

	
	<select id="selectMember" resultMap="MemberResult">
		SELECT * FROM MEMBER WHERE MDELYN='N' ORDER BY MNAME
	</select>
	
	<select id="getMember" parameterType="string" resultType="Member">
		SELECT * FROM MEMBER WHERE MDELYN='N' AND MID=#{mid}
	</select>
	
	<update id="updateMember" parameterType="Member">
		UPDATE MEMBER SET MNAME=#{mname}, MALIAS=#{malias}, MEMAIL=#{memail}, MCP=#{mcp} WHERE MID=#{mid}
	</update>
	
	<update id="deleteMember" parameterType="Member">
		UPDATE MEMBER SET MDELYN='Y' WHERE MID=#{mid}
	</update>
	
	<select id="checkLoginMember" parameterType="Member" resultType="int">
    	SELECT COUNT(*) FROM MEMBER WHERE MID = #{mid} AND MPASS = #{mpass}
	</select>


</mapper>
